/*
 * Copyright (c) 2014 Stephen Peasley (http://www.stephenpeasley.com)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * 
 * Version 0.0.2
 * Made in Canada
 */
;(function(e){"use strict";e.fn.occasions=function(t){function u(e,t,n){var e=e-1;var t=t-1;var n=n-1;var i=new Date(r.getFullYear(),n,1,0,0,0,0);var s=1;if(i.getDay()!=t){var o=i.getDay();var u=0;while(o!=t){o++;u++;if(o==7){o=0}}s+=u}s=s+7*e;i=i.setDate(s);i=new Date(i);n=i.getMonth()+1;var a=(n<10?"0":"")+n+"/"+(s<10?"0":"")+s;return a}function a(e,t,n){var e=e-1;var t=t-1;var i=new Date(r.getFullYear(),t,n,0,0,0,0);var s=n;if(i.getDay()==e){s-=7}else{var o=i.getDay();var u=0;while(o!=e){o--;u++;if(o==-1){o=6}}s-=u}i=i.setDate(s);i=new Date(i);t=i.getMonth()+1;var n=(t<10?"0":"")+t+"/"+(s<10?"0":"")+s;return n}var n=e.extend({country:"none",sect:"none"},t);var r=new Date;var i=r.getMonth()+1;var s=r.getDate();var o=(i<10?"0":"")+i+"/"+(s<10?"0":"")+s;var f={"01/01":"new-years","01/21":"hug","02/14":"valentines","03/14":"pi","04/01":"april-fools","04/05":"first-contact","04/20":"four-twenty","05/04":"star-wars","05/25":"towel","09/19":"pirate","10/31":"halloween","12/05":"ninja","12/23":"festivus","12/26":"boxing","12/31":"new-years-eve"};switch(n.country.toLowerCase()){case"canada":f[u(2,1,3)]="dst-begins";f[u(2,1,5)]="mothers";f[a(2,5,25)]="victoria";f[u(3,1,6)]="fathers";f["06/21"]="aboriginal";f[u(1,2,9)]="labour";f[u(2,2,10)]="thanksgiving";f["11/01"]="all-saints";f[u(1,1,11)]="dst-ends";f["12/11"]="statute";break;default:break}switch(n.sect.toLowerCase()){case"christian":f["08/15"]="assumption";f["10/4"]="st-francis";f["11/2"]="all-souls";f["12/8"]="immaculate";f["12/24"]="christmas-eve";f["12/25"]="christmas";break;default:break}if(f[o]!=null){this.addClass(f[o])}return this}})(jQuery)