/*
 * Copyright (c) 2014 Stephen Peasley (http://www.stephenpeasley.com)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * 
 * Version 0.1.1
 * Made in Canada
 */
;(function(e){"use strict";e.fn.occasions=function(){function o(e,t,r){var e=e-1;var t=t-1;var r=r-1;var i=new Date(n.getFullYear(),r,1,0,0,0,0);var s=1;if(i.getDay()!=t){var o=i.getDay();var u=0;while(o!=t){o++;u++;if(o==7){o=0}}s+=u}s=s+7*e;i=i.setDate(s);i=new Date(i);r=i.getMonth()+1;var a=(r<10?"0":"")+r+"/"+(s<10?"0":"")+s;return a}function u(e,t,r){var e=e-1;var t=t-1;var i=new Date(n.getFullYear(),t,r,0,0,0,0);var s=r;if(i.getDay()==e){s-=7}else{var o=i.getDay();var u=0;while(o!=e){o--;u++;if(o==-1){o=6}}s-=u}i=i.setDate(s);i=new Date(i);t=i.getMonth()+1;var r=(t<10?"0":"")+t+"/"+(s<10?"0":"")+s;return r}var t=e.extend({country:"none",sect:"none",onSuccess:function(){}},arguments[0]||{});var n=new Date;var r=n.getMonth()+1;var i=n.getDate();var s=(r<10?"0":"")+r+"/"+(i<10?"0":"")+i;var a={"01/01":"new-years","01/21":"hug","02/14":"valentines","03/14":"pi","04/01":"april-fools","04/05":"first-contact","04/20":"four-twenty","05/04":"star-wars","05/25":"towel","08/08":"cat","08/13":"lefties","09/19":"pirate","10/31":"halloween","12/05":"ninja","12/23":"festivus","12/26":"boxing","12/31":"new-years-eve"};switch(t.country.toLowerCase()){case"canada":a[o(2,1,3)]="dst-begins";a[o(2,1,5)]="mothers";a[u(2,5,25)]="victoria";a[o(3,1,6)]="fathers";a["06/21"]="aboriginal";a[o(1,2,9)]="labour";a[o(2,2,10)]="thanksgiving";a["11/01"]="all-saints";a[o(1,1,11)]="dst-ends";a["12/11"]="statute";break;default:break}switch(t.sect.toLowerCase()){case"christian":a["08/15"]="assumption";a["10/4"]="st-francis";a["11/2"]="all-souls";a["12/8"]="immaculate";a["12/24"]="christmas-eve";a["12/25"]="christmas";break;default:break}if(a[s]!=null){this.addClass(a[s]);t.onSuccess.call(this)}return this}})(jQuery)