/*
 * Copyright (c) 2014â€“2015 Stephen Peasley (http://www.speasley.com)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * 
 * Version 1.0.0
 * Made in Canada
 */
!function(t){"use strict";t.fn.occasions=function(){function e(t,e,a){var t=t-1,e=e-1,a=a-1,s=new Date(n.getFullYear(),a,1,0,0,0,0),r=1;if(s.getDay()!=e){for(var i=s.getDay(),o=0;i!=e;)i++,o++,7==i&&(i=0);r+=o}r+=7*t,s=s.setDate(r),s=new Date(s),a=s.getMonth()+1;var c=(10>a?"0":"")+a+"/"+(10>r?"0":"")+r;return c}function a(t,e,a){var t=t-1,e=e-1,s=new Date(n.getFullYear(),e,a,0,0,0,0),r=a;if(s.getDay()==t)r-=7;else{for(var i=s.getDay(),o=0;i!=t;)i--,o++,-1==i&&(i=6);r-=o}s=s.setDate(r),s=new Date(s),e=s.getMonth()+1;var a=(10>e?"0":"")+e+"/"+(10>r?"0":"")+r;return a}var s=t.extend({country:"none",sect:"none",onSuccess:function(){}},arguments[0]||{}),n=new Date,r=n.getMonth()+1,i=n.getDate(),o=(10>r?"0":"")+r+"/"+(10>i?"0":"")+i;s.date&&(o=s.date);var c={"01/01":"new-years","01/21":"hug","02/14":"valentines","03/14":"pi","04/01":"april-fools","04/05":"first-contact","04/20":"four-twenty","05/04":"star-wars","05/25":"towel","08/08":"cat","08/13":"lefties","09/19":"pirate","10/31":"halloween","12/05":"ninja","12/23":"festivus","12/26":"boxing","12/31":"new-years-eve"};switch(s.country.toLowerCase()){case"canada":c[e(2,1,3)]="dst-begins",c[e(2,1,5)]="mothers",c[a(2,5,25)]="victoria",c[e(3,1,6)]="fathers",c["06/21"]="aboriginal",c[e(1,2,9)]="labour",c[e(2,2,10)]="thanksgiving",c["11/01"]="all-saints",c[e(1,1,11)]="dst-ends",c["12/11"]="statute"}switch(s.sect.toLowerCase()){case"christian":c["08/15"]="assumption",c["10/04"]="st-francis",c["11/02"]="all-souls",c["12/08"]="immaculate",c["12/24"]="christmas-eve",c["12/25"]="christmas"}return null!=c[o]&&(this.addClass(c[o]),this.occasion=c[o],s.onSuccess.call(this)),this}}(jQuery);